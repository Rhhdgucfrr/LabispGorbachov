using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace ConsoleApplication3

{
    public  class Account 
    {
        
        static int idDefault = 0;
        protected int col_days_openAccount = 0; 

        public Account(decimal sum, int percentage)
        {
            Sum = sum;
            Percentage = percentage;
            Id = ++idDefault;
        }
        
        public decimal Sum { get; private set; }        
        public int Percentage { get; private set; }
        public int Id { get; private set; }       

        public virtual void PutMonney(decimal sum)
        {            
            Sum += sum;
            Console.WriteLine("На счет поступило " + sum +"итог"+Sum);           
        }        
        public virtual decimal GetMonney(decimal sum)
        {
            decimal result = 0;
            if (Sum >= sum)
            {
                Sum -= sum;
                result = Sum;
                Console.WriteLine("Сумма снята со счета"+" "+Id +" остаток "+Sum);
            }
            else
            {
                Console.WriteLine("Недостаточно средств" + " " +"id= "+ Id + " "+Sum);
            }
            return result;
        }
        
        protected internal virtual void Open()
        {
            Console.WriteLine($"Открыт новый счет! Id счета: {Id}", Sum);
        
        }      
        protected internal virtual void Calculate()
        {
            decimal increment = Sum * Percentage / 100;
            Sum = Sum + increment;
            Console.WriteLine($"Начислены проценты в размере: {increment}", increment);           
        }    
}

class Program
    {

        static void Main(string[] args)

        {
            Console.WriteLine("Введите сумму для открытия счета и процент");
            Account a = new Account(Convert.ToDecimal(Console.ReadLine()),Convert.ToInt32(Console.ReadLine()));
            a.Open();
            a.Calculate();
            Console.WriteLine("1-Вывод денежных средств");
            Console.WriteLine("2-Внесение денежных средств на счет");
            Console.WriteLine("3-Просмотр процента");
            Console.WriteLine("4-выход");
            bool exit = false;
            while (exit==false)
            {
                Console.WriteLine("Выберите действие");
                int chosen = Convert.ToInt32(Console.ReadLine());
                if (chosen == 1)
                {
                    Console.WriteLine("Введите сумму для снятия");
                    a.GetMonney(Convert.ToDecimal(Console.ReadLine()));
                }
                if (chosen == 2)
                {
                    Console.WriteLine("Введите сумму для зачисления");
                    a.PutMonney(Convert.ToDecimal(Console.ReadLine()));
                }
                if (chosen == 3)
                {
                    Console.WriteLine("Ваш процент составляет");
                    a.Calculate();
                }
                if (chosen == 4)
                {
                    exit = true;
                }
            }
            Console.ReadKey();
            
        }    
    }

}

